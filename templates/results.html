{% extends "layout.html" %}

{% block body %}

<script>
    /* Show the search bubble only when scrolled away from top */
window.onscroll = function() {
    if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
        document.querySelector('.search-bubble').style.opacity = 1;
    } else {
        document.querySelector('.search-bubble').style.opacity = 0;
    }
};
</script>

<nav class="navbar">
    <div class="container">
        <h1><a href="/">Flavor Pairings</a></h1>
        <form class="navbar-form" action="/results" method="get">
            <input list="search-options" type="text" id="ingredient" name="choice" placeholder="Search ingredients..." required>
            <button type="submit">Search</button>
        </form>
    </div>
</nav>
                        
<datalist id="search-options">
{% for option in allMains %}
    <option value="{{ option }}">
{% endfor %}
</datalist>

<div class="results-wrapper">
    <div class="results">
        <h2>Flavor Pairings Found for {{ main }}</h2>
        <div class="results-grid">
            {% for result in pairings %}
            <div class="result-item">{{ result }}</div>
            {% endfor %}
        </div>
        <a href="#top" class="search-bubble">Search Again</a>
    </div>    
</div>

{% endblock %}